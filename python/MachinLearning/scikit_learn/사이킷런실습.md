# 타이타닉 생존자 예측

## 탑승자 데이터

- Passengerid : 탑승자 데이터 일련번호
- survived : 생존 여부, 0=사망, 1=생존
- pclass : 티켓의 선실 등급, 1=일등석, 2=이등석, 3=삼등석
- sex : 탑승자 성별
- name : 탑승자 이름
- Age : 탑승자 나이
- sibsp : 같이 탑승한 형제자매 또는 배우자 인원수
- parch : 같이 탑승한 부모님 또는 어린이 인원수
- ticket : 티켓 번호
- fare : 요금
- cabin : 선실 번호
- embarked : 중간 정착 항구 C = Cherbourg, Q = Queenstown, S = Southampton



## DataFrame 로딩

```python
import numpy as np
import pandas as pd
import sklearn
import matplotlib.pyplot as plt
import seaborn as sns

titanic_df = pd.read_csv('./data/train.csv')
print(titanic_df.head(3))
print('\n ### 학습 데이터 정보 ### \n')
print(titanic_df.info())
```

```bash
   PassengerId  Survived  Pclass                                               Name  ...            Ticket     Fare  Cabin  Embarked
0            1         0       3                            Braund, Mr. Owen Harris  ...         A/5 21171   7.2500    NaN         S
1            2         1       1  Cumings, Mrs. John Bradley (Florence Briggs Th...  ...          PC 17599  71.2833    C85         C
2            3         1       3                             Heikkinen, Miss. Laina  ...  STON/O2. 3101282   7.9250    NaN         S

[3 rows x 12 columns]

 ### 학습 데이터 정보 ###

<class 'pandas.core.frame.DataFrame'>
RangeIndex: 891 entries, 0 to 890
Data columns (total 12 columns):
PassengerId    891 non-null int64
Survived       891 non-null int64
Pclass         891 non-null int64
Name           891 non-null object
Sex            891 non-null object
Age            714 non-null float64
SibSp          891 non-null int64
Parch          891 non-null int64
Ticket         891 non-null object
Fare           891 non-null float64
Cabin          204 non-null object
Embarked       889 non-null object
dtypes: float64(2), int64(5), object(5)
memory usage: 66.2+ KB
None
```

891개의 로우 12개의 칼럼으로 구성 되어있다.



## Null값 처리

Age, Cabin, Embarked은 Null값이 각각 177개, 608개, 2개 가지고 있다. Age는 평균나이로, 나머지는 'N' 값으로 변경 해준다.

```python
titanic_df['Age'].fillna(titanic_df['Age'].mean(), inplace=True)
titanic_df['Cabin'].fillna('N', inplace=True)
titanic_df['Embarked'].fillna('N', inplace=True)
print('데이터 세트 Null 값 개수 ', titanic_df.isnull().sum().sum())
```

```bash
데이터 세트 Null 값 개수  0
```



## 문자열 피처 분포

```python
print('Sex 값 분포 :\n', titanic_df['Sex'].value_counts())
print('\n Cabin 값 분포 :\n', titanic_df['Cabin'].value_counts())
print('\n Embarked 값 분포 :\n', titanic_df['Embarked'].value_counts())
```

```bash
Sex 값 분포 :
 male      577
female    314
Name: Sex, dtype: int64

 Cabin 값 분포 :
 N              687
C23 C25 C27      4
B96 B98          4
G6               4
F33              3
              ...
E10              1
B41              1
C82              1
C110             1
C30              1
Name: Cabin, Length: 148, dtype: int64

 Embarked 값 분포 :
 S    644
C    168
Q     77
N      2
Name: Embarked, dtype: int64
```

Sex, Embarked 값은 문제 없지만, Cabin(선실)의 경우 제대로 분류되있지 않다.



### Cabin문자 추출

```python
titanic_df['Cabin'] = titanic_df['Cabin'].str[:1]
print(titanic_df['Cabin'].head(3))
```

```bash
0    N
1    C
2    N
Name: Cabin, dtype: object
```

객실의 등급을 나타내는 Cabin속성 앞문자만 추출했다.

## 성별 생존 확률

```python
print(titanic_df.groupby(['Sex', 'Survived'])['Survived'].count())
```

```bash
Sex     Survived
female  0            81
        1           233
male    0           468
        1           109
Name: Survived, dtype: int64
```

Survived 0은 사망, 1은 생존이다.



### 그래프로 확인

#### 성별 생존

```python
sns.barplot(x='Sex', y='Survived', data=titanic_df)
plt.show()
```

![Figure_1](./%EC%82%AC%EC%9D%B4%ED%82%B7%EB%9F%B0%EC%8B%A4%EC%8A%B5.assets/Figure_1.png)

#### 객실 등급

```python
sns.barplot(x='Pclass', y='Survived', hue='Sex', data=titanic_df)
plt.show()
```



![Figure_2](./%EC%82%AC%EC%9D%B4%ED%82%B7%EB%9F%B0%EC%8B%A4%EC%8A%B5.assets/Figure_2.png)